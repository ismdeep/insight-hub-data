{
  "id": "a8911a477cb43027e306f4a18e1d563f3bcbd4f8426dd7f6f763ff8da31e665d",
  "source": "ARTHURCHIAO'S BLOG",
  "link": "https://arthurchiao.art/blog/practical-storage-hierarchy/",
  "title": "Practical Storage Hierarchy and Performance: From HDDs to On-chip Caches（2024）",
  "author": "Arthur Chiao",
  "content": "\u003cdiv class=\"post\"\u003e\n  \n  \u003ch1 class=\"postTitle\"\u003ePractical Storage Hierarchy and Performance: From HDDs to On-chip Caches（2024）\u003c/h1\u003e\n  \u003cp class=\"meta\"\u003ePublished at 2024-05-26 | Last Update 2024-05-28\u003c/p\u003e\n  \n  \u003cp\u003eThis post summarizes bandwidths for local storage media, networking\ninfra, as well as remote storage systems. Readers may find this helpful when\n\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eidentifying bottlenecks in IO-intensive applications\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\n(e.g. AI training and LLM inference).\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/storage-bandwidth-3.png\" width=\"100%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Peak bandwidth of storage media, networking, and distributed storage solutions.\u003c/p\u003e\n\n\u003cp\u003eNote: this post may contain inaccurate and/or stale information.\u003c/p\u003e\n\n\u003chr/\u003e\n\n\u003cul id=\"markdown-toc\"\u003e\n  \u003cli\u003e\u003ca href=\"#1-fundamentals\" id=\"markdown-toc-1-fundamentals\"\u003e1 Fundamentals\u003c/a\u003e    \u003cul\u003e\n      \u003cli\u003e\u003ca href=\"#11-sata\" id=\"markdown-toc-11-sata\"\u003e1.1 SATA\u003c/a\u003e        \u003cul\u003e\n          \u003cli\u003e\u003ca href=\"#112-real-world-pictures\" id=\"markdown-toc-112-real-world-pictures\"\u003e1.1.2 Real world pictures\u003c/a\u003e\u003c/li\u003e\n          \u003cli\u003e\u003ca href=\"#111-revisions-and-data-rates\" id=\"markdown-toc-111-revisions-and-data-rates\"\u003e1.1.1 Revisions and data rates\u003c/a\u003e\u003c/li\u003e\n        \u003c/ul\u003e\n      \u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#12-pcie\" id=\"markdown-toc-12-pcie\"\u003e1.2 PCIe\u003c/a\u003e        \u003cul\u003e\n          \u003cli\u003e\u003ca href=\"#112-real-world-pictures-1\" id=\"markdown-toc-112-real-world-pictures-1\"\u003e1.1.2 Real world pictures\u003c/a\u003e\u003c/li\u003e\n          \u003cli\u003e\u003ca href=\"#122-generations-and-data-rates\" id=\"markdown-toc-122-generations-and-data-rates\"\u003e1.2.2 Generations and data rates\u003c/a\u003e\u003c/li\u003e\n        \u003c/ul\u003e\n      \u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#13-summary\" id=\"markdown-toc-13-summary\"\u003e1.3 Summary\u003c/a\u003e\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"#2-disk\" id=\"markdown-toc-2-disk\"\u003e2 Disk\u003c/a\u003e    \u003cul\u003e\n      \u003cli\u003e\u003ca href=\"#21-hdd-200-mbs\" id=\"markdown-toc-21-hdd-200-mbs\"\u003e2.1 HDD: \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e~200 MB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/a\u003e        \u003cul\u003e\n          \u003cli\u003e\u003ca href=\"#211-real-world-pictures\" id=\"markdown-toc-211-real-world-pictures\"\u003e2.1.1 Real world pictures\u003c/a\u003e\u003c/li\u003e\n          \u003cli\u003e\u003ca href=\"#212-supported-interfaces-bus-types\" id=\"markdown-toc-212-supported-interfaces-bus-types\"\u003e2.1.2 Supported interfaces (bus types)\u003c/a\u003e\u003c/li\u003e\n          \u003cli\u003e\u003ca href=\"#213-bandwidth-constrained-by-machanical-factors\" id=\"markdown-toc-213-bandwidth-constrained-by-machanical-factors\"\u003e2.1.3 Bandwidth: constrained by \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003emachanical factors\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/a\u003e\u003c/li\u003e\n          \u003cli\u003e\u003ca href=\"#214-typical-latencies\" id=\"markdown-toc-214-typical-latencies\"\u003e2.1.4 Typical latencies\u003c/a\u003e\u003c/li\u003e\n        \u003c/ul\u003e\n      \u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#22-sata-ssd-600mbs\" id=\"markdown-toc-22-sata-ssd-600mbs\"\u003e2.2 SATA SSD: \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e~600MB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/a\u003e        \u003cul\u003e\n          \u003cli\u003e\u003ca href=\"#221-real-world-pictures\" id=\"markdown-toc-221-real-world-pictures\"\u003e2.2.1 Real world pictures\u003c/a\u003e\u003c/li\u003e\n          \u003cli\u003e\u003ca href=\"#222-bandwidth-constrained-by-sata-bus\" id=\"markdown-toc-222-bandwidth-constrained-by-sata-bus\"\u003e2.2.2 Bandwidth: constrained by \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eSATA bus\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/a\u003e\u003c/li\u003e\n        \u003c/ul\u003e\n      \u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#23-nvme-ssd-7gbs-13gbs\" id=\"markdown-toc-23-nvme-ssd-7gbs-13gbs\"\u003e2.3 NVME SSD: \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e~7GB/s, ~13GB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/a\u003e        \u003cul\u003e\n          \u003cli\u003e\u003ca href=\"#231-real-world-pictures\" id=\"markdown-toc-231-real-world-pictures\"\u003e2.3.1 Real world pictures\u003c/a\u003e\u003c/li\u003e\n          \u003cli\u003e\u003ca href=\"#232-bandwidth-contrained-by-pcie-bus\" id=\"markdown-toc-232-bandwidth-contrained-by-pcie-bus\"\u003e2.3.2 Bandwidth: contrained by \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003ePCIe bus\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/a\u003e\u003c/li\u003e\n        \u003c/ul\u003e\n      \u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#24-summary\" id=\"markdown-toc-24-summary\"\u003e2.4 Summary\u003c/a\u003e\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"#3-ddr-sdram-cpu-memory-400gbs\" id=\"markdown-toc-3-ddr-sdram-cpu-memory-400gbs\"\u003e3 DDR SDRAM (CPU Memory): \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e~400GB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/a\u003e    \u003cul\u003e\n      \u003cli\u003e\u003ca href=\"#31-real-world-pictures\" id=\"markdown-toc-31-real-world-pictures\"\u003e3.1 Real world pictures\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#32-bandwidth-contrained-by-memory-clock-bus-width-channel-etc\" id=\"markdown-toc-32-bandwidth-contrained-by-memory-clock-bus-width-channel-etc\"\u003e3.2 Bandwidth: contrained by \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003ememory clock, bus width, channel\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e, etc\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#33-summary\" id=\"markdown-toc-33-summary\"\u003e3.3 Summary\u003c/a\u003e\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"#4-gddr-sdram-gpu-memory-1000gbs\" id=\"markdown-toc-4-gddr-sdram-gpu-memory-1000gbs\"\u003e4 GDDR SDRAM (GPU Memory): \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e~1000GB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/a\u003e    \u003cul\u003e\n      \u003cli\u003e\u003ca href=\"#41-gddr-vs-ddr\" id=\"markdown-toc-41-gddr-vs-ddr\"\u003e4.1 GDDR vs. DDR\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#42-real-world-pictures\" id=\"markdown-toc-42-real-world-pictures\"\u003e4.2 Real world pictures\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#43-bandwidth-contrained-by-lanes--clock-rates\" id=\"markdown-toc-43-bandwidth-contrained-by-lanes--clock-rates\"\u003e4.3 Bandwidth: contrained by \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003elanes \u0026amp; clock rates\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#44-summary\" id=\"markdown-toc-44-summary\"\u003e4.4 Summary\u003c/a\u003e\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"#5-hbm-15-tbs\" id=\"markdown-toc-5-hbm-15-tbs\"\u003e5 HBM: \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e1~5 TB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/a\u003e    \u003cul\u003e\n      \u003cli\u003e\u003ca href=\"#51-whats-new\" id=\"markdown-toc-51-whats-new\"\u003e5.1 What’s new\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#52-real-world-pictures\" id=\"markdown-toc-52-real-world-pictures\"\u003e5.2 Real world pictures\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#53-bandwidth-contrained-by-lanes--clock-rates\" id=\"markdown-toc-53-bandwidth-contrained-by-lanes--clock-rates\"\u003e5.3 Bandwidth: contrained by \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003elanes \u0026amp; clock rates\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#54-hbm-powered-cpus\" id=\"markdown-toc-54-hbm-powered-cpus\"\u003e5.4 HBM-powered CPUs\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#55-summary\" id=\"markdown-toc-55-summary\"\u003e5.5 Summary\u003c/a\u003e\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"#6-sram-on-chip-20-tbs\" id=\"markdown-toc-6-sram-on-chip-20-tbs\"\u003e6 SRAM (on-chip): \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e20+ TB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/a\u003e    \u003cul\u003e\n      \u003cli\u003e\u003ca href=\"#61-sram-vs-dram\" id=\"markdown-toc-61-sram-vs-dram\"\u003e6.1 SRAM vs. DRAM\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#62-cache-hierarchy-l1l2l3\" id=\"markdown-toc-62-cache-hierarchy-l1l2l3\"\u003e6.2 Cache hierarchy (L1/L2/L3/…)\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#63-groq-lpu-eliminating-memory-bottleneck-by-using-sram-as-main-memory\" id=\"markdown-toc-63-groq-lpu-eliminating-memory-bottleneck-by-using-sram-as-main-memory\"\u003e6.3 \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eGroq LPU\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e: eliminating memory bottleneck by using SRAM as main memory\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#64-bandwidth-contrained-by-clock-rates-etc\" id=\"markdown-toc-64-bandwidth-contrained-by-clock-rates-etc\"\u003e6.4 Bandwidth: contrained by \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eclock rates\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e, etc\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#65-summary\" id=\"markdown-toc-65-summary\"\u003e6.5 Summary\u003c/a\u003e\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"#7-networking-bandwidth-400gbs\" id=\"markdown-toc-7-networking-bandwidth-400gbs\"\u003e7 Networking bandwidth: \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e400GB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/a\u003e    \u003cul\u003e\n      \u003cli\u003e\u003ca href=\"#71-traditional-data-center-225100200gbps\" id=\"markdown-toc-71-traditional-data-center-225100200gbps\"\u003e7.1 Traditional data center: \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e2*{25,100,200}Gbps\u003c/code\u003e\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#72-ai-data-center-gpu-interconnect-8100400gbps\" id=\"markdown-toc-72-ai-data-center-gpu-interconnect-8100400gbps\"\u003e7.2 AI data center: GPU-interconnect: \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e8*{100,400}Gbps\u003c/code\u003e\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#73-networking-bandwidths\" id=\"markdown-toc-73-networking-bandwidths\"\u003e7.3 Networking bandwidths\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#74-summary\" id=\"markdown-toc-74-summary\"\u003e7.4 Summary\u003c/a\u003e\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"#8-distributed-storage-aggregated-2-tbs\" id=\"markdown-toc-8-distributed-storage-aggregated-2-tbs\"\u003e8 Distributed storage: aggregated \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e2+ TB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/a\u003e    \u003cul\u003e\n      \u003cli\u003e\u003ca href=\"#81-alibabacloud-cpfs\" id=\"markdown-toc-81-alibabacloud-cpfs\"\u003e8.1 AlibabaCloud CPFS\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#82-nvme-ssd-powered-ceph-clusters\" id=\"markdown-toc-82-nvme-ssd-powered-ceph-clusters\"\u003e8.2 NVME SSD powered Ceph clusters\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#83-summary\" id=\"markdown-toc-83-summary\"\u003e8.3 Summary\u003c/a\u003e\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"#9-conclusion\" id=\"markdown-toc-9-conclusion\"\u003e9 Conclusion\u003c/a\u003e\u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"#references\" id=\"markdown-toc-references\"\u003eReferences\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003chr/\u003e\n\n\u003ch1 id=\"1-fundamentals\"\u003e1 Fundamentals\u003c/h1\u003e\n\n\u003cp\u003eBefore delving into the specifics of storage, let’s first go through some\nfundamentals about data transfer protocols.\u003c/p\u003e\n\n\u003ch2 id=\"11-sata\"\u003e1.1 SATA\u003c/h2\u003e\n\n\u003cp\u003eFrom wikepedia \u003ca href=\"https://en.wikipedia.org/wiki/SATA\"\u003eSATA\u003c/a\u003e:\u003c/p\u003e\n\n\u003cblockquote\u003e\n  \u003cp\u003eSATA (\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eSerial AT Attachment\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e) is a\ncomputer \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003ebus interface\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e that connects host bus\nadapters to mass storage devices such as hard disk drives, optical drives,\nand solid-state drives.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ch3 id=\"112-real-world-pictures\"\u003e1.1.2 Real world pictures\u003c/h3\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/SATA2-pic.jpg\" width=\"50%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. \u003cmark\u003eSATA interfaces and cables\u003c/mark\u003e on a computer motherboard. Image source \u003ca href=\"https://en.wikipedia.org/wiki/SATA\"\u003ewikipedia\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3 id=\"111-revisions-and-data-rates\"\u003e1.1.1 Revisions and data rates\u003c/h3\u003e\n\n\u003cp\u003eThe SATA standard has evolved through multiple revisions.\nThe current prevalent revision is 3.0, offering a maximum IO bandwidth of \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e600MB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e:\u003c/p\u003e\n\n\u003cp align=\"center\"\u003eTable: SATA revisions. Data source: \u003ca href=\"https://en.wikipedia.org/wiki/SATA\"\u003ewikipedia\u003c/a\u003e\u003c/p\u003e\n\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth style=\"text-align: left\"\u003eSpec\u003c/th\u003e\n      \u003cth style=\"text-align: left\"\u003eRaw data rate\u003c/th\u003e\n      \u003cth style=\"text-align: left\"\u003eData rate\u003c/th\u003e\n      \u003cth style=\"text-align: left\"\u003eMax cable length\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003eSATA Express\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e16 Gbit/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e1.97 GB/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e1m\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003eSATA revision 3.0\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e6 Gbit/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e600 MB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e1m\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003eSATA revision 2.0\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e3 Gbit/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e300 MB/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e1m\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003eSATA revision 1.0\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e1.5 Gbit/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e150 MB/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e1m\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ch2 id=\"12-pcie\"\u003e1.2 PCIe\u003c/h2\u003e\n\n\u003cp\u003eFrom wikipedia \u003ca href=\"https://en.wikipedia.org/wiki/PCI_Express\"\u003ePCIe (PCI Express)\u003c/a\u003e:\u003c/p\u003e\n\n\u003cblockquote\u003e\n  \u003cp\u003ePCI Express is high-speed serial computer expansion bus standard.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003ePCIe (\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003ePeripheral Component Interconnect Express\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e)\nis another kind of system bus, designed to connect a variety of peripheral\ndevices, including \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eGPUs, NICs, sound cards\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e,\nand certain storage devices.\u003c/p\u003e\n\n\u003ch3 id=\"112-real-world-pictures-1\"\u003e1.1.2 Real world pictures\u003c/h3\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/pcie-pic.jpg\" width=\"50%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig.\n\u003cmark\u003eVarious slots on a computer motherboard\u003c/mark\u003e, from top to bottom:\u003cbr/\u003e\nPCIe x4 (e.g. for \u003cmark\u003eNVME SSD\u003c/mark\u003e)\u003cbr/\u003e\nPCIe x16 (e.g. for \u003cmark\u003eGPU card\u003c/mark\u003e)\u003cbr/\u003e\nPCIe x1\u003cbr/\u003e\nPCIe x16\u003cbr/\u003e\nConventional PCI (32-bit, 5 V)\u003cbr/\u003e\nImage source \u003ca href=\"https://en.wikipedia.org/wiki/PCI_Express\"\u003ewikipedia\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eAs shown in the above picture,\nPCIe electrical interface is measured by the number of \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003elanes\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e. \nA lane is a \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003esingle data send+receive line\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e,\nfunctioning similarly to a “one-lane road” with traffic in \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eboth directions\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\n\n\u003ch3 id=\"122-generations-and-data-rates\"\u003e1.2.2 Generations and data rates\u003c/h3\u003e\n\n\u003cp\u003eEach new PCIe generation doubles the bandwidth of a lane than the previous generation:\u003c/p\u003e\n\n\u003cp align=\"center\"\u003eTable: PCIe \u003cmark\u003eUnidirectional Bandwidth\u003c/mark\u003e.\nData source: \u003ca href=\"https://www.trentonsystems.com/en-us/resource-hub/blog/pcie-gen4-vs-gen3-slots-speeds\"\u003etrentonsystems.com\u003c/a\u003e\n\u003c/p\u003e\n\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth style=\"text-align: left\"\u003eGeneration\u003c/th\u003e\n      \u003cth style=\"text-align: left\"\u003eYear of Release\u003c/th\u003e\n      \u003cth style=\"text-align: left\"\u003eData Transfer Rate\u003c/th\u003e\n      \u003cth style=\"text-align: left\"\u003eBandwidth x1\u003c/th\u003e\n      \u003cth style=\"text-align: left\"\u003eBandwidth x16\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003ePCIe 1.0\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e2003\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e2.5 GT/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e250 MB/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e4.0 GB/s\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003ePCIe 2.0\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e2007\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e5.0 GT/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e500 MB/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e8.0 GB/s\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003ePCIe 3.0\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e2010\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e8.0 GT/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e1 GB/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e16 GB/s\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003ePCIe 4.0\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e2017\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e16 GT/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e2 GB/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e32 GB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003ePCIe 5.0\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e2019\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e32 GT/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e4 GB/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e64 GB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003ePCIe 6.0\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e2021\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e64 GT/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e8 GB/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e128 GB/s\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eCurrently, the most widely used generations are \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eGen4 and Gen5\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\n\n\u003cp\u003eNote: Depending on the document you’re referencing, PCIe bandwidth may be presented\nas \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eeither unidirectional or bidirectional\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e,\nwith the latter indicating a bandwidth that is twice that of the former.\u003c/p\u003e\n\n\u003ch2 id=\"13-summary\"\u003e1.3 Summary\u003c/h2\u003e\n\n\u003cp\u003eWith the above knowledge, we can now proceed to discuss the\nperformance characteristics of various storage devices.\u003c/p\u003e\n\n\u003ch1 id=\"2-disk\"\u003e2 Disk\u003c/h1\u003e\n\n\u003ch2 id=\"21-hdd-200-mbs\"\u003e2.1 HDD: \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e~200 MB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/h2\u003e\n\n\u003cp\u003eFrom wikipedia \u003ca href=\"https://en.wikipedia.org/wiki/Hard_disk_drive\"\u003eHDD\u003c/a\u003e:\u003c/p\u003e\n\n\u003cblockquote\u003e\n  \u003cp\u003eA hard disk drive (HDD) is an \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eelectro-mechanical\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\ndata storage device that stores and retrieves digital data using\n\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003emagnetic storage\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e with one or more rigid\n\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003erapidly rotating platters\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e coated with magnetic material.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ch3 id=\"211-real-world-pictures\"\u003e2.1.1 Real world pictures\u003c/h3\u003e\n\n\u003cp\u003eA real-world picture is shown below:\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/hdd-internal.jpg\" width=\"60%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Internals of a real world HDD. Image source \u003ca href=\"https://hardwaresecrets.com/anatomy-of-a-hard-disk-drive/\"\u003ehardwaresecrets.com\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3 id=\"212-supported-interfaces-bus-types\"\u003e2.1.2 Supported interfaces (bus types)\u003c/h3\u003e\n\n\u003cp\u003eHDDs connect to a motherboard over one of several bus types, such as,\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003e\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eSATA\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/li\u003e\n  \u003cli\u003eSCSI\u003c/li\u003e\n  \u003cli\u003eSerial Attached SCSI (SAS)\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eBelow is a SATA HDD:\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/sata-hdd.jpg\" width=\"50%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. A real world SATA HDD. Image source \u003ca href=\"https://hardwaresecrets.com/anatomy-of-a-hard-disk-drive/\"\u003ehardwaresecrets.com\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eand how an HDD connects to a computer motherboard via SATA cables:\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/sata-connector.jpg\" width=\"35%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. An HDD with SATA cables. Data source \u003ca href=\"https://www.datalab247.com/articles/desktop-connectors.html\"\u003edatalab247.com\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3 id=\"213-bandwidth-constrained-by-machanical-factors\"\u003e2.1.3 Bandwidth: constrained by \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003emachanical factors\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\n\n\u003cp\u003eHDDs are machanical devices, and their peak IO performance is inherently\nlimited by various mechanical factors, including the speed at which the\nactuator arm can function. The current upper limit of HDDs is \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e~200MB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e,\nwhich is \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003esignificantly below the saturation point of a SATA 3.0\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e interface (600MB/s).\u003c/p\u003e\n\n\u003ch3 id=\"214-typical-latencies\"\u003e2.1.4 Typical latencies\u003c/h3\u003e\n\n\u003cp align=\"center\"\u003eTable. Latency characteristics typical of HDDs. Data source: \u003ca href=\"https://en.wikipedia.org/wiki/Hard_disk_drive\"\u003ewikipedia\u003c/a\u003e\u003c/p\u003e\n\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth style=\"text-align: left\"\u003eRotational speed (rpm)\u003c/th\u003e\n      \u003cth style=\"text-align: left\"\u003eAverage rotational latency (ms)\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003e15,000\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e2\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003e10,000\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e3\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003e7,200\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e4.16\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003e5,400\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e5.55\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003e4,800\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e6.25\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ch2 id=\"22-sata-ssd-600mbs\"\u003e2.2 SATA SSD: \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e~600MB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/h2\u003e\n\n\u003cp\u003eWhat’s a SSD? From wikipedia \u003ca href=\"https://en.wikipedia.org/wiki/Solid-state_drive\"\u003eSSD\u003c/a\u003e:\u003c/p\u003e\n\n\u003cblockquote\u003e\n  \u003cp\u003eA solid-state drive (SSD) is a solid-state storage device. It provides\npersistent data storage using \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eno moving parts\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eLike HDDs, SSDs support several kind of bus types:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003eSATA\u003c/li\u003e\n  \u003cli\u003ePCIe (NVME)\u003c/li\u003e\n  \u003cli\u003e…\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eLet’s see the first one: SATA-interfaced SSD, or SATA SSD for short.\u003c/p\u003e\n\n\u003ch3 id=\"221-real-world-pictures\"\u003e2.2.1 Real world pictures\u003c/h3\u003e\n\n\u003cp\u003eSSDs are usually smaller than HDDs,\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/hdd-ssd-nvme.png\" width=\"60%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Size of different drives, left to right: HDD, \u003cmark\u003eSATA SSD\u003c/mark\u003e, NVME SSD.\nImage source \u003ca href=\"https://www.avg.com/en/signal/ssd-hdd-which-is-best\"\u003eavg.com\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3 id=\"222-bandwidth-constrained-by-sata-bus\"\u003e2.2.2 Bandwidth: constrained by \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eSATA bus\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\n\n\u003cp\u003eThe absence of mechanical components (such as rotational arms) allows SATA SSDs\nto fully utilize the capabilities of the SATA bus.\nThis results in an upper limit of \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e600MB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e IO bandwidth,\nwhich is \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e3x faster than that of SATA HDDs\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\n\n\u003ch2 id=\"23-nvme-ssd-7gbs-13gbs\"\u003e2.3 NVME SSD: \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e~7GB/s, ~13GB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/h2\u003e\n\n\u003cp\u003eLet’s now explore another type of SSD: the \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003ePCIe-based\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e NVME SSD.\u003c/p\u003e\n\n\u003ch3 id=\"231-real-world-pictures\"\u003e2.3.1 Real world pictures\u003c/h3\u003e\n\n\u003cp\u003eNVME SSDs are even smaller than SATA SSDs,\nand they \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003econnect directly to the PCIe bus with 4x lanes\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e instead of SATA cables,\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/hdd-ssd-nvme.png\" width=\"60%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Size of different drives, left to right: HDD, SATA SSD, \u003cmark\u003eNVME SSD\u003c/mark\u003e.\nImage source \u003ca href=\"https://www.avg.com/en/signal/ssd-hdd-which-is-best\"\u003eavg.com\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3 id=\"232-bandwidth-contrained-by-pcie-bus\"\u003e2.3.2 Bandwidth: contrained by \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003ePCIe bus\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\n\n\u003cp\u003eNVME SSDs has a peak bandwidth of 7.5GB/s over PCIe Gen4, and ~13GB/s over PCIe Gen5.\u003c/p\u003e\n\n\u003ch2 id=\"24-summary\"\u003e2.4 Summary\u003c/h2\u003e\n\n\u003cp\u003eWe illustrate the peak bandwidths of afore-mentioned three kinds of local storage media in a graph:\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/storage-bandwidth.png\" width=\"90%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Peak bandwidths of different storage media.\u003c/p\u003e\n\n\u003cp\u003eThese (HDDs, SSDs) are commonly called \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003enon-volatile or persistent storage\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e media.\nAnd as the picture hints, in next chapters we’ll delve into some other kinds of storage devices.\u003c/p\u003e\n\n\u003ch1 id=\"3-ddr-sdram-cpu-memory-400gbs\"\u003e3 DDR SDRAM (CPU Memory): \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e~400GB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/h1\u003e\n\n\u003cp\u003eDDR SDRAM nowadays serves mainly as the \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003emain memory\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e in computers.\u003c/p\u003e\n\n\u003ch2 id=\"31-real-world-pictures\"\u003e3.1 Real world pictures\u003c/h2\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/ddr-pic.jpg\" width=\"70%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Front and back of a DDR RAM module for desktop PCs (DIMM). Image source \u003ca href=\"https://en.wikipedia.org/wiki/DDR_SDRAM\"\u003ewikipedia\u003c/a\u003e\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/Corsair_CMX512-3200C2PT_20080602.jpg\" width=\"60%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Corsair DDR-400 memory with heat spreaders. Image source \u003ca href=\"https://en.wikipedia.org/wiki/DDR_SDRAM\"\u003ewikipedia\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eDDR memory connects to the motherboard via DIMM slots:\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/sdram-dimm-slots.png\" width=\"80%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Three SDRAM DIMM slots on a ABIT BP6 computer motherboard. Image source \u003ca href=\"https://en.wikipedia.org/wiki/DIMM\"\u003ewikipedia\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2 id=\"32-bandwidth-contrained-by-memory-clock-bus-width-channel-etc\"\u003e3.2 Bandwidth: contrained by \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003ememory clock, bus width, channel\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e, etc\u003c/h2\u003e\n\n\u003cp\u003eSingle channel bandwidth:\u003c/p\u003e\n\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth style=\"text-align: left\"\u003e \u003c/th\u003e\n      \u003cth style=\"text-align: left\"\u003eTransfer rate\u003c/th\u003e\n      \u003cth style=\"text-align: left\"\u003eBandwidth\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003e\u003ca href=\"https://en.wikipedia.org/wiki/DDR4_SDRAM\"\u003eDDR4\u003c/a\u003e\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e3.2GT/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e25.6 GB/s\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003e\u003ca href=\"https://en.wikipedia.org/wiki/DDR5_SDRAM\"\u003eDDR5\u003c/a\u003e\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e4–8GT/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e32–64 GB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eif \u003ca href=\"https://en.wikipedia.org/wiki/Multi-channel_memory_architecture\"\u003eMulti-channel memory architecture\u003c/a\u003e is enabled,\nthe peak (aggreated) bandwidth will be increased by multiple times:\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/Dual_channel_slots.jpg\" width=\"40%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Dual-channel memory slots, color-coded orange and yellow for this particular motherboard.\nImage source \u003ca href=\"https://en.wikipedia.org/wiki/Multi-channel_memory_architecture\"\u003ewikipedia\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eSuch as [4],\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003eIntel Xeon Gen5: up to 8 memory-channels running at up to 5600MT/s (\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e358GB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e)\u003c/li\u003e\n  \u003cli\u003eIntel Xeon Gen4: up to 8 memory-channels running at up to 4800MT/s (\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e307GB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2 id=\"33-summary\"\u003e3.3 Summary\u003c/h2\u003e\n\n\u003cp\u003eDDR5 bandwidth in the hierarchy:\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/storage-bandwidth.png\" width=\"90%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Peak bandwidths of different storage media.\u003c/p\u003e\n\n\u003ch1 id=\"4-gddr-sdram-gpu-memory-1000gbs\"\u003e4 GDDR SDRAM (GPU Memory): \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e~1000GB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/h1\u003e\n\n\u003cp\u003eNow let’s see another variant of DDR, commonly used in \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003egraphics cards (GPUs)\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\n\n\u003ch2 id=\"41-gddr-vs-ddr\"\u003e4.1 GDDR vs. DDR\u003c/h2\u003e\n\n\u003cp\u003eFrom wikipedia \u003ca href=\"https://en.wikipedia.org/wiki/GDDR_SDRAM\"\u003eGDDR SDRAM\u003c/a\u003e:\u003c/p\u003e\n\n\u003cblockquote\u003e\n  \u003cp\u003eGraphics DDR SDRAM (GDDR SDRAM) is a type of synchronous dynamic random-access\nmemory (SDRAM) specifically designed for applications requiring high bandwidth,\ne.g. graphics processing units (\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eGPUs\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e).\u003c/p\u003e\n\n  \u003cp\u003eGDDR SDRAM is \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003edistinct from the more widely known types of DDR SDRAM\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e,\nsuch as DDR4 and DDR5, although they share some of the same features—including double\ndata rate (DDR) data transfers.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ch2 id=\"42-real-world-pictures\"\u003e4.2 Real world pictures\u003c/h2\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/GDDR-Hynix_HY5DU561622CTP-5-5390.jpg\" width=\"40%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Hynix GDDR SDRAM. Image Source: \u003ca href=\"https://en.wikipedia.org/wiki/GDDR_SDRAM\"\u003ewikipedia\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2 id=\"43-bandwidth-contrained-by-lanes--clock-rates\"\u003e4.3 Bandwidth: contrained by \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003elanes \u0026amp; clock rates\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/h2\u003e\n\n\u003cp\u003eUnlike DDR, GDDR is \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003edirectly integrated with GPU\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e devices,\nbypassing the need for pluggable PCIe slots. This integration\n\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eliberates GDDR from the bandwidth limitations imposed by the PCIe bus\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e.\nSuch as,\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003eGDDR6: 1008GB/s. Peak per-pin data rate 16Gb/s, max memory bus width 384-bits.\u003c/li\u003e\n  \u003cli\u003eGDDR6x: 1008GB/s, used by \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eNVIDIA RTX 4090\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2 id=\"44-summary\"\u003e4.4 Summary\u003c/h2\u003e\n\n\u003cp\u003eWith GDDR included:\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/storage-bandwidth.png\" width=\"90%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Peak bandwidths of different storage media.\u003c/p\u003e\n\n\u003ch1 id=\"5-hbm-15-tbs\"\u003e5 HBM: \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e1~5 TB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/h1\u003e\n\n\u003cp\u003eIf you’d like to achieve even more higher bandwidth than GDDR, then there is an option: HBM (High Bandwidth Memory).\u003c/p\u003e\n\n\u003cblockquote\u003e\n  \u003cp\u003eA great innovation but a terrible name.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ch2 id=\"51-whats-new\"\u003e5.1 What’s new\u003c/h2\u003e\n\n\u003cp\u003eHBM is designed to provide a \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003elarger memory bus width\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e than GDDR, resulting in larger data transfer rates.\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/HBM_schematic.png\" width=\"60%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Cut through a graphics card that uses HBM. \nImage Source: \u003ca href=\"https://en.wikipedia.org/wiki/High_Bandwidth_Memory\"\u003ewikipedia\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eHBM sits \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003einside the GPU die\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e and is stacked – for example NVIDIA A800\nGPU has 5 stacks of 8 HBM DRAM dies (8-Hi) each with two 512-bit\nchannels per die, resulting in a total width of 5120-bits (\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e5 active stacks * 2 channels * 512 bits\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e) [3].\u003c/p\u003e\n\n\u003cp\u003eAs another example, HBM3 (used in NVIDIA H100) also has a \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e5120-bit bus\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e,\nand 3.35TB/s memory bandwidth,\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/gpu-notes/nvidia-gpus-hbm.png\" width=\"50%\" height=\"50%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Bandwidth of several HBM-powered GPUs from NVIDIA. Image source: \n\u003ca href=\"https://developer.nvidia.com/blog/nvidia-hopper-architecture-in-depth/\"\u003envidia.com\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2 id=\"52-real-world-pictures\"\u003e5.2 Real world pictures\u003c/h2\u003e\n\n\u003cp\u003eThe 4 squares in left and right are just HBM chips:\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/AMD_Fiji_GPU_package_with_HBM_and_interposer.jpg\" width=\"50%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. AMD Fiji, the \u003cmark\u003efirst GPU to use HBM\u003c/mark\u003e.\nImage Source: \u003ca href=\"https://en.wikipedia.org/wiki/High_Bandwidth_Memory\"\u003ewikipedia\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2 id=\"53-bandwidth-contrained-by-lanes--clock-rates\"\u003e5.3 Bandwidth: contrained by \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003elanes \u0026amp; clock rates\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/h2\u003e\n\n\u003cp\u003eFrom wikipedia \u003ca href=\"https://en.wikipedia.org/wiki/High_Bandwidth_Memory\"\u003eHBM\u003c/a\u003e，\u003c/p\u003e\n\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth style=\"text-align: left\"\u003e \u003c/th\u003e\n      \u003cth style=\"text-align: left\"\u003eBandwidth\u003c/th\u003e\n      \u003cth style=\"text-align: left\"\u003eYear\u003c/th\u003e\n      \u003cth style=\"text-align: left\"\u003eGPU\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003eHBM\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e128GB/s/package\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e \u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e \u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003eHBM2\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e256GB/s/package\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e2016\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003eV100\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003eHBM2e\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e~450GB/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e2018\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eA100, ~2TB/s\u003c/code\u003e; Huawei \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eAscend 910B\u003c/code\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003eHBM3\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e600GB/s/site\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e2020\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003eH100, 3.35TB/s\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003eHBM3e\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e~1TB/s\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e2023\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eH200\u003c/code\u003e, \u003ca href=\"https://www.nvidia.com/en-us/data-center/h200/\"\u003e4.8TB/s\u003c/a\u003e\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ch2 id=\"54-hbm-powered-cpus\"\u003e5.4 HBM-powered CPUs\u003c/h2\u003e\n\n\u003cp\u003eHBM is \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003enot exclusive to GPU memory\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e; it is also integrated into some CPU models, such as the\n\u003ca href=\"https://www.intel.com/content/www/us/en/products/details/processors/xeon/max-series.html\"\u003eIntel Xeon CPU Max Series\u003c/a\u003e.\u003c/p\u003e\n\n\u003ch2 id=\"55-summary\"\u003e5.5 Summary\u003c/h2\u003e\n\n\u003cp\u003eThis chapter concludes our exploration of dynamic RAM technologies, which includes\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003eDDR DRAM\u003c/li\u003e\n  \u003cli\u003eGDDR DRAM\u003c/li\u003e\n  \u003cli\u003eHBM DRAM\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/storage-bandwidth.png\" width=\"90%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Peak bandwidths of different storage media.\u003c/p\u003e\n\n\u003cp\u003eIn the next, let’s see some on-chip static RAMs.\u003c/p\u003e\n\n\u003ch1 id=\"6-sram-on-chip-20-tbs\"\u003e6 SRAM (on-chip): \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e20+ TB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/h1\u003e\n\n\u003cp\u003eThe term “on-chip” in this post refers to \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003ememory storage that\u0026#39;s integrated within the same silicon as the processor unit\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\n\n\u003ch2 id=\"61-sram-vs-dram\"\u003e6.1 SRAM vs. DRAM\u003c/h2\u003e\n\n\u003cp\u003eFrom wikipedia \u003ca href=\"https://en.wikipedia.org/wiki/Static_random-access_memory\"\u003eSRAM\u003c/a\u003e:\u003c/p\u003e\n\n\u003cblockquote\u003e\n  \u003cp\u003eStatic random-access memory (static RAM or SRAM) is a type of random-access\nmemory that uses latching circuitry (flip-flop) to store each bit. SRAM\nis volatile memory; data is lost when power is removed.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eThe term \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003estatic\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e differentiates SRAM from DRAM:\u003c/p\u003e\n\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth style=\"text-align: left\"\u003e \u003c/th\u003e\n      \u003cth style=\"text-align: left\"\u003eSRAM\u003c/th\u003e\n      \u003cth style=\"text-align: left\"\u003eDRAM\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003edata freshness\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003estable in the presence of power\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003edecays in seconds, must be periodically refreshed\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003espeed (relative)\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003efast (10x)\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003eslow\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003ecost (relative)\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003ehigh\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003elow\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"text-align: left\"\u003emainly used for\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003e\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003ecache\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/td\u003e\n      \u003ctd style=\"text-align: left\"\u003emain memory\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cblockquote\u003e\n  \u003cp\u003eSRAM requires \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003emore transistors per bit to implement\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e, so it is less dense and\nmore expensive than DRAM and also has a \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003ehigher power consumption\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e during read\nor write access. The power consumption of SRAM varies widely depending on how\nfrequently it is accessed.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ch2 id=\"62-cache-hierarchy-l1l2l3\"\u003e6.2 Cache hierarchy (L1/L2/L3/…)\u003c/h2\u003e\n\n\u003cp\u003eIn the architecture of multi-processor (CPU/GPU/…) systems, a multi-tiered static cache structure is usually used:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003eL1 cache: typically exclusive to each individual processor;\u003c/li\u003e\n  \u003cli\u003eL2 cache: commonly accessible by a group of processors.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/gpu-notes/h100-chip-layout.jpg\" width=\"80%\" height=\"80%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eNVIDIA H100 chip layout (\u003cmark\u003eL2 cache in the middle\u003c/mark\u003e, shared by many SM processors). Image source:\n\u003ca href=\"https://developer.nvidia.com/blog/nvidia-hopper-architecture-in-depth/\"\u003envidia.com\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2 id=\"63-groq-lpu-eliminating-memory-bottleneck-by-using-sram-as-main-memory\"\u003e6.3 \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eGroq LPU\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e: eliminating memory bottleneck by using SRAM as main memory\u003c/h2\u003e\n\n\u003cp\u003eFrom the \u003ca href=\"https://wow.groq.com/why-groq/\"\u003eofficial website\u003c/a\u003e:\nGroq is the AI infra company that builds the world’s \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003efastest AI inference technology\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e with both software and hardware. \nGroq LPU is designed to \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eovercome two LLM bottlenecks\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e: compute density and \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003ememory bandwidth\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003eAn LPU has greater compute capacity than a GPU and CPU in regards to LLMs.\nThis reduces the amount of time per word calculated, allowing sequences of\ntext to be generated much faster.\u003c/li\u003e\n  \u003cli\u003e\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eEliminating external memory bottlenecks\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e (using on-chip SRAM instead) enables the LPU Inference Engine to\ndeliver \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eorders of magnitude better performance on LLMs compared to GPUs\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eRegarding to the chip:\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/groq-asic-die.png\" width=\"50%\" height=\"50%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Die photo of 14nm ASIC implementation of the Groq TSP. Image source: groq paper [2]\u003c/p\u003e\n\n\u003cp\u003eThe East and West hemisphere of \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eon-chip memory\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e module (MEM)\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003eComposed of 44 parallel slices of \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eSRAM\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e and provides the memory concurrency necessary to fully utilize the 32 streams in each direction.\u003c/li\u003e\n  \u003cli\u003eEach slice provides 13-bits of physical addressing of 16-byte memory words, each byte maps to a lane, for a total of \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e220 MiBytes of on-chip SRAM\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2 id=\"64-bandwidth-contrained-by-clock-rates-etc\"\u003e6.4 Bandwidth: contrained by \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eclock rates\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e, etc\u003c/h2\u003e\n\n\u003ch2 id=\"65-summary\"\u003e6.5 Summary\u003c/h2\u003e\n\n\u003cp\u003eThis chapter ends our journey to various physical storage media, from machanical devices like HDDs all the way to on-chip cache.\nWe illustrate their peak bandwidth in a picture, note that the Y-axis is \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003elog\u003csub\u003e10\u003c/sub\u003e\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e scaled:\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/storage-bandwidth.png\" width=\"80%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Speeds of different storage media.\u003c/p\u003e\n\n\u003cp\u003eThese are the maximum IO bandwidths when performing read/write operations on a local node.\u003c/p\u003e\n\n\u003cp\u003eConversely, when considering remote I/O operations, such as those involved in\ndistributed storage systems like Ceph, AWS S3, or NAS, a new bottleneck emerges:\nnetworking bandwidth.\u003c/p\u003e\n\n\u003ch1 id=\"7-networking-bandwidth-400gbs\"\u003e7 Networking bandwidth: \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e400GB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/h1\u003e\n\n\u003ch2 id=\"71-traditional-data-center-225100200gbps\"\u003e7.1 Traditional data center: \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e2*{25,100,200}Gbps\u003c/code\u003e\u003c/h2\u003e\n\n\u003cp\u003eFor traditional data center workloads, the following per-server networking configurations are typically sufficient:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003e2 NICs * 25Gbps/NIC, providing up to \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e6.25GB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e unidirectional bandwidth when operating in active-active mode;\u003c/li\u003e\n  \u003cli\u003e2 NICs * 100Gbps/NIC, delivering up to \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e25GB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e unidirectional bandwidth when operating in active-active mode;\u003c/li\u003e\n  \u003cli\u003e2 NICs * 200Gbps/NIC, achieving up to \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e50GB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e unidirectional bandwidth when operating in active-active mode.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2 id=\"72-ai-data-center-gpu-interconnect-8100400gbps\"\u003e7.2 AI data center: GPU-interconnect: \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e8*{100,400}Gbps\u003c/code\u003e\u003c/h2\u003e\n\n\u003cp\u003eThis type of networking facilitates inter-GPU communication and is not intended\nfor general data I/O. The data transfer pathway is as follows:\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e            HBM \u0026lt;---\u0026gt; NIC \u0026lt;---\u0026gt; IB/RoCE \u0026lt;---\u0026gt; NIC \u0026lt;--\u0026gt; HBM\n                Node1                            Node2\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2 id=\"73-networking-bandwidths\"\u003e7.3 Networking bandwidths\u003c/h2\u003e\n\n\u003cp\u003eNow we add networking bandwidths into our storage performance picture:\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/storage-bandwidth-2.png\" width=\"90%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Speeds of different storage media, with networking bandwidth added.\u003c/p\u003e\n\n\u003ch2 id=\"74-summary\"\u003e7.4 Summary\u003c/h2\u003e\n\n\u003cp\u003eIf remote storage solutions (such as distributed file systems) is involved, and networking is fast enough,\nIO bottleneck would shift down to the remote storage solutions,\nthat’s why there are some extremely high performance storage solutions dedicated for today’s AI trainings.\u003c/p\u003e\n\n\u003ch1 id=\"8-distributed-storage-aggregated-2-tbs\"\u003e8 Distributed storage: aggregated \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e2+ TB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e\u003c/h1\u003e\n\n\u003ch2 id=\"81-alibabacloud-cpfs\"\u003e8.1 AlibabaCloud CPFS\u003c/h2\u003e\n\n\u003cp\u003eAlibabaCloud’s Cloud Parallel File Storage (CPFS) is an exemplar of such\nhigh-performance storage solutions. It \u003ca href=\"https://www.alibabacloud.com/help/en/cpfs/product-overview/product-specifications?spm=a2c63.p38356.0.0.2f6a6379tfKf2x\"\u003eclaims\u003c/a\u003e\nto offer up to \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003e2TB/s of aggregated bandwidth\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\n\n\u003cp\u003eBut, note that the mentioned bandwidth is an aggregate across multiple nodes,\n\u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eno single node can achieve this\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e level of IO speed.\nYou can do some calcuatations to understand why, with PCIe bandwidth, networking bandwidth, etc;\u003c/p\u003e\n\n\u003ch2 id=\"82-nvme-ssd-powered-ceph-clusters\"\u003e8.2 NVME SSD powered Ceph clusters\u003c/h2\u003e\n\n\u003cp\u003eAn open-source counterpart is Ceph, which also delivers impressive results.\nFor instance, with a cluster configuration of \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e68 nodes * 2 * 100Gbps/node\u003c/code\u003e,\na user achieved \u003cstrong\u003e\u003cmark\u003e\u003ccode\u003eaggregated throughput of 1TB/s\u003c/code\u003e\u003c/mark\u003e\u003c/strong\u003e,\nas \u003ca href=\"https://ceph.io/en/news/blog/2024/ceph-a-journey-to-1tibps/\"\u003edocumented\u003c/a\u003e.\u003c/p\u003e\n\n\u003ch2 id=\"83-summary\"\u003e8.3 Summary\u003c/h2\u003e\n\n\u003cp\u003eNow adding distributed storage aggregated bandwidth into our graph:\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/practical-storage-hierarchy/storage-bandwidth-3.png\" width=\"100%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Peak bandwidth of storage media, networking, and distributed storage solutions.\u003c/p\u003e\n\n\u003ch1 id=\"9-conclusion\"\u003e9 Conclusion\u003c/h1\u003e\n\n\u003cp\u003eThis post compiles bandwidth data for local storage media, networking infrastructure, and remote storage systems.\nWith this information as reference, readers can evaluate the potential IO\nbottlenecks of their systems more effectively, such as GPU server IO bottleneck analysis [1]:\u003c/p\u003e\n\n\u003cp align=\"center\"\u003e\u003cimg src=\"/assets/img/gpu-notes/8x-a100-bw-limits.png\" width=\"100%\" height=\"100%\"/\u003e\u003c/p\u003e\n\u003cp align=\"center\"\u003eFig. Bandwidths inside a 8xA100 GPU node\u003c/p\u003e\n\n\u003ch1 id=\"references\"\u003eReferences\u003c/h1\u003e\n\n\u003col\u003e\n  \u003cli\u003e\u003ca href=\"/blog/gpu-advanced-notes-1-zh/\"\u003eNotes on High-end GPU Servers (in Chinese)\u003c/a\u003e, 2023\u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"https://wow.groq.com/groq-isca-paper-2020/\"\u003eThink Fast: A Tensor Streaming Processor (TSP) for Accelerating Deep Learning Workloads\u003c/a\u003e, ISCA paper, 2020\u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"https://www.exxactcorp.com/blog/hpc/gddr6-vs-hbm-gpu-memory\"\u003eGDDR6 vs HBM - Defining GPU Memory Types\u003c/a\u003e, 2024\u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"https://edc.intel.com/content/www/us/en/products/performance/benchmarks/5th-generation-intel-xeon-scalable-processors/\"\u003e5th Generation Intel® Xeon® Scalable Processors\u003c/a\u003e, intel.com\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003chr/\u003e\n\n\u003cp\u003e\u003ca href=\"https://notbyai.fyi\"\u003e\u003cimg src=\"/assets/img/Written-By-Human-Not-By-AI-Badge-white.svg\" alt=\"Written by Human, Not by AI\"/\u003e\u003c/a\u003e\n\u003ca href=\"https://notbyai.fyi\"\u003e\u003cimg src=\"/assets/img/Written-By-Human-Not-By-AI-Badge-black.svg\" alt=\"Written by Human, Not by AI\"/\u003e\u003c/a\u003e\u003c/p\u003e\n\n\n  \u003c!-- POST NAVIGATION --\u003e\n  \u003cdiv class=\"postNav clearfix\"\u003e\n     \n      \u003ca class=\"prev\" href=\"/blog/visual-intro-to-transformers-zh/\"\u003e\u003cspan\u003e« [译] 什么是 GPT？Transformer 工作原理的动画展示（2024）\u003c/span\u003e\n      \n    \u003c/a\u003e\n      \n     \n  \u003c/div\u003e\n\u003c/div\u003e",
  "published_at": "2024-05-26T00:00:00Z"
}